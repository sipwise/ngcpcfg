{
  "comments": [
    {
      "key": {
        "uuid": "1a622d24_cb35cb47",
        "filename": "sbin/ngcp-sync-grants",
        "patchSetId": 3
      },
      "lineNbr": 174,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2017-01-26T17:18:17Z",
      "side": 1,
      "message": "ok this is now that appraoch you told me where you use mariadb itself to retrieve a normalized grants listing.\n\neffectively you need that to convert grants.yml - which might contain less canonical or redundant grants - into a plain format. but moreover to test if the grant specs there dont have errors, before deleting exisitng grants right?",
      "range": {
        "startLine": 174,
        "startChar": 12,
        "endLine": 174,
        "endChar": 28
      },
      "revId": "b80752174d6486e3d14fbadba71a2b3fec1721f8",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a622d24_2b4b9fb1",
        "filename": "sbin/ngcp-sync-grants",
        "patchSetId": 3
      },
      "lineNbr": 174,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2017-01-26T17:25:18Z",
      "side": 1,
      "message": "correct, it create a temporary user and puts the per user@host grants list into it and then retrieve them in the mysql/mariadb format and then checks to what the exisisting user@host already have, if all of them are the same - no need to re-grant them.",
      "parentUuid": "1a622d24_cb35cb47",
      "range": {
        "startLine": 174,
        "startChar": 12,
        "endLine": 174,
        "endChar": 28
      },
      "revId": "b80752174d6486e3d14fbadba71a2b3fec1721f8",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a622d24_0b02233e",
        "filename": "sbin/ngcp-sync-grants",
        "patchSetId": 3
      },
      "lineNbr": 174,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2017-01-26T17:37:36Z",
      "side": 1,
      "message": "ok, so it still will be compared with exisitng grants. why not always removing and re-writing them?",
      "parentUuid": "1a622d24_2b4b9fb1",
      "range": {
        "startLine": 174,
        "startChar": 12,
        "endLine": 174,
        "endChar": 28
      },
      "revId": "b80752174d6486e3d14fbadba71a2b3fec1721f8",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a622d24_cbb66b8a",
        "filename": "sbin/ngcp-sync-grants",
        "patchSetId": 3
      },
      "lineNbr": 174,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2017-01-26T17:47:35Z",
      "side": 1,
      "message": "because that may create access discrepancies for already existing users, especially ones like \"replicator\", my PoV is it does not matter how complicated it is on the low level, but on the high (user) level it must be well predictable and easy working.",
      "parentUuid": "1a622d24_0b02233e",
      "range": {
        "startLine": 174,
        "startChar": 12,
        "endLine": 174,
        "endChar": 28
      },
      "revId": "b80752174d6486e3d14fbadba71a2b3fec1721f8",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a622d24_0b26a316",
        "filename": "sbin/ngcp-sync-grants",
        "patchSetId": 3
      },
      "lineNbr": 184,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2017-01-26T17:18:17Z",
      "side": 1,
      "message": "can it ever get here, it now is already proven before that grant option exists?",
      "range": {
        "startLine": 184,
        "startChar": 20,
        "endLine": 184,
        "endChar": 23
      },
      "revId": "b80752174d6486e3d14fbadba71a2b3fec1721f8",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a622d24_8bc75312",
        "filename": "sbin/ngcp-sync-grants",
        "patchSetId": 3
      },
      "lineNbr": 184,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2017-01-26T17:25:18Z",
      "side": 1,
      "message": "yes, mysql/mariadb has it\u0027s own weird scenarios where a user does not exist or only freshly created and has no internal grant syncs yet. hence we need to catch such \"false errors\".",
      "parentUuid": "1a622d24_0b26a316",
      "range": {
        "startLine": 184,
        "startChar": 20,
        "endLine": 184,
        "endChar": 23
      },
      "revId": "b80752174d6486e3d14fbadba71a2b3fec1721f8",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a622d24_abb5efce",
        "filename": "sbin/ngcp-sync-grants",
        "patchSetId": 3
      },
      "lineNbr": 302,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2017-01-26T17:18:17Z",
      "side": 1,
      "message": "can this straight-forward password really ever be rejected?",
      "range": {
        "startLine": 302,
        "startChar": 53,
        "endLine": 302,
        "endChar": 60
      },
      "revId": "b80752174d6486e3d14fbadba71a2b3fec1721f8",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a622d24_cbd14bcf",
        "filename": "sbin/ngcp-sync-grants",
        "patchSetId": 3
      },
      "lineNbr": 302,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2017-01-26T17:25:18Z",
      "side": 1,
      "message": "a random password is generated here but then we need to get it in the \"encoded\" format to further process (e.g. change first char there to disable it). realistically it is already safe enough but new users created by grants (and not served by ngcp-sync-constants) should be well protected from \"user\" errors working with grants.ym",
      "parentUuid": "1a622d24_abb5efce",
      "range": {
        "startLine": 302,
        "startChar": 53,
        "endLine": 302,
        "endChar": 60
      },
      "revId": "b80752174d6486e3d14fbadba71a2b3fec1721f8",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a622d24_abedef8d",
        "filename": "sbin/ngcp-sync-grants",
        "patchSetId": 3
      },
      "lineNbr": 302,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2017-01-26T17:37:36Z",
      "side": 1,
      "message": "i see its to generate the digest.. why not just\nUPDATE USER SEt Password \u003d PASSWORD(?) ..",
      "parentUuid": "1a622d24_cbd14bcf",
      "range": {
        "startLine": 302,
        "startChar": 53,
        "endLine": 302,
        "endChar": 60
      },
      "revId": "b80752174d6486e3d14fbadba71a2b3fec1721f8",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a622d24_ebac0738",
        "filename": "sbin/ngcp-sync-grants",
        "patchSetId": 3
      },
      "lineNbr": 302,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2017-01-26T17:47:35Z",
      "side": 1,
      "message": "ah, that is what\u0027s missing now, it used to be \n\n$random_pass \u003d \u0027!\u0027.$1;\n\nbefore UPDATE user SET Password.\n\ngonna add the missing part.",
      "parentUuid": "1a622d24_abedef8d",
      "range": {
        "startLine": 302,
        "startChar": 53,
        "endLine": 302,
        "endChar": 60
      },
      "revId": "b80752174d6486e3d14fbadba71a2b3fec1721f8",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    }
  ]
}