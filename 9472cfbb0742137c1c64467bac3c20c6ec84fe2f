{
  "comments": [
    {
      "key": {
        "uuid": "4e473eed_4a27a31d",
        "filename": "functions/main",
        "patchSetId": 4
      },
      "lineNbr": 239,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2019-09-20T08:37:04Z",
      "side": 1,
      "message": "not sure what you meant with this, but this comment might be a bit misleading, since the following two lines of code don\u0027t restrict it in any way?",
      "revId": "9472cfbb0742137c1c64467bac3c20c6ec84fe2f",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fbcd5a38_e7265bb8",
        "filename": "functions/main",
        "patchSetId": 4
      },
      "lineNbr": 239,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2019-09-20T08:42:04Z",
      "side": 1,
      "message": "It is actually a comment for ELSE section. Agree should be moved there otherwise confusing.",
      "parentUuid": "4e473eed_4a27a31d",
      "revId": "9472cfbb0742137c1c64467bac3c20c6ec84fe2f",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "963dff99_cfc66642",
        "filename": "functions/main",
        "patchSetId": 4
      },
      "lineNbr": 241,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2019-09-20T08:37:04Z",
      "side": 1,
      "message": "No need for \"\u003e\u003e\" here but can use \"\u003e\" instead, now that we don\u0027t loop over it anymore?",
      "revId": "9472cfbb0742137c1c64467bac3c20c6ec84fe2f",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c4dd36c1_94097a9a",
        "filename": "functions/main",
        "patchSetId": 4
      },
      "lineNbr": 241,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2019-09-20T08:42:04Z",
      "side": 1,
      "message": "I though about this. I would keep it as it is safe AND someone can add later one more logic/processing above and \"\u003e\" might overwrite it. Isn\u0027t it?",
      "parentUuid": "963dff99_cfc66642",
      "revId": "9472cfbb0742137c1c64467bac3c20c6ec84fe2f",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bd329030_e17e4560",
        "filename": "functions/main",
        "patchSetId": 4
      },
      "lineNbr": 245,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2019-09-19T19:48:20Z",
      "side": 1,
      "message": "We should probably preserve the -- here, to avoid surprises.\n\nAlso probably also not worth it, as I assume we do not generally pass in many arguments, but this could be optimized by accumulating all args into a \u0027\\(arg[n]\\|arg[n+1]\\|...\\)\u0027 and then calling grep once. :)",
      "range": {
        "startLine": 245,
        "startChar": 10,
        "endLine": 245,
        "endChar": 11
      },
      "revId": "9472cfbb0742137c1c64467bac3c20c6ec84fe2f",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "723e03b5_ebabc94c",
        "filename": "functions/main",
        "patchSetId": 4
      },
      "lineNbr": 245,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2019-09-20T08:29:01Z",
      "side": 1,
      "message": "I believe you highlited wrong place for \u0027--\u0027\nit should like this, right?\n  \n\u003e grep \"${arg}\" -- \"${filelist_allfiles}\" \u003e\u003e \"${filelist_prepared}\"\n\nAs we want to have:\n  \ngrep \"/etc/default/ngcp-roles\" -- \"/tmp/sometmpfiles\" \u003e\u003e \"/tmp/anothertmpfile\"\n\nwhere /tmp/sometmpfiles is:\n\n....\n/etc/ngcp-config/templates/etc/default/ngcp-roles.tt2\n/etc/ngcp-config/templates/etc/default/ngcp-roles.customtt.tt2\n/etc/ngcp-config/templates/etc/default/ngcp-roles.tt2.sp1\n/etc/ngcp-config/templates/etc/default/ngcp-roles.tt2.sp2\n...",
      "parentUuid": "bd329030_e17e4560",
      "range": {
        "startLine": 245,
        "startChar": 10,
        "endLine": 245,
        "endChar": 11
      },
      "revId": "9472cfbb0742137c1c64467bac3c20c6ec84fe2f",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "686733fb_1ae66cbb",
        "filename": "functions/main",
        "patchSetId": 4
      },
      "lineNbr": 245,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2019-09-20T08:31:44Z",
      "side": 1,
      "message": "re:  \u0027\\(arg[n]\\|arg[n+1]\\|...\\)\u0027\n\nwe will still have a loop to build a grep string.\nalso after the first grep \"${filelist_allfiles}\" will be RAM  cache so all further greps will be extreamly fast.\nalso we normally build one/several/all files... so usually there will be one/several greps only...\n\nIMHO complexity here increase probably of mistakes and give no benefits in speed. Better safe then sorry.",
      "parentUuid": "723e03b5_ebabc94c",
      "range": {
        "startLine": 245,
        "startChar": 10,
        "endLine": 245,
        "endChar": 11
      },
      "revId": "9472cfbb0742137c1c64467bac3c20c6ec84fe2f",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a6ca7003_719a7fae",
        "filename": "functions/main",
        "patchSetId": 4
      },
      "lineNbr": 245,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2019-09-20T08:40:32Z",
      "side": 1,
      "message": "I don\u0027t understand your comment, Alex. :)\n\nThe \"--\" ends processing of command line options, and we don\u0027t want to get any \"-...\" provided by the user as argument to be processed as grep option?\n\nSo IMO it should preserve same behavior as before and be:\n\n  grep -- \"${arg}\" \"${filelist_allifiles}\" \u003e\u003e ....",
      "parentUuid": "686733fb_1ae66cbb",
      "range": {
        "startLine": 245,
        "startChar": 10,
        "endLine": 245,
        "endChar": 11
      },
      "revId": "9472cfbb0742137c1c64467bac3c20c6ec84fe2f",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae84c3ff_c9403f0a",
        "filename": "functions/main",
        "patchSetId": 4
      },
      "lineNbr": 245,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2019-09-20T08:43:57Z",
      "side": 1,
      "message": "Demonstration:\n\n[sipwise-lab-trunk] sipwise@spce:~$ sudo ngcpcfg build \"-q ssh\"\n2019-09-20 10:42:32 spce: yml configs were validated successfully\n2019-09-20 10:42:32 spce: configs were checked successfully\n2019-09-20 10:42:32 spce: No patchtt files found, nothing to patch.\nLoading /etc/ngcp-config/config.yml in memory: OK \nLoading /etc/ngcp-config/network.yml in memory: OK \nLoading /etc/ngcp-config/constants.yml in memory: OK \ngrep: invalid option -- \u0027 \u0027\nUsage: grep [OPTION]... PATTERNS [FILE]...\nTry \u0027grep --help\u0027 for more information.",
      "parentUuid": "a6ca7003_719a7fae",
      "range": {
        "startLine": 245,
        "startChar": 10,
        "endLine": 245,
        "endChar": 11
      },
      "revId": "9472cfbb0742137c1c64467bac3c20c6ec84fe2f",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "53bdf7e2_e0b8f9bd",
        "filename": "functions/main",
        "patchSetId": 4
      },
      "lineNbr": 245,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2019-09-20T08:45:49Z",
      "side": 1,
      "message": "And even worth, with argument `-q ssh` (no quotes) it\u0027s just hanging at:\n\n[sipwise-lab-trunk] sipwise@spce:~$ sudo ngcpcfg build -q ssh\n2019-09-20 10:44:20 spce: yml configs were validated successfully\n2019-09-20 10:44:20 spce: configs were checked successfully\n2019-09-20 10:44:20 spce: No patchtt files found, nothing to patch.\nLoading /etc/ngcp-config/config.yml in memory: OK \nLoading /etc/ngcp-config/network.yml in memory: OK \nLoading /etc/ngcp-config/constants.yml in memory: OK",
      "parentUuid": "ae84c3ff_c9403f0a",
      "range": {
        "startLine": 245,
        "startChar": 10,
        "endLine": 245,
        "endChar": 11
      },
      "revId": "9472cfbb0742137c1c64467bac3c20c6ec84fe2f",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8d02c1e5_e45ce8cd",
        "filename": "functions/main",
        "patchSetId": 4
      },
      "lineNbr": 245,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2019-09-20T08:47:37Z",
      "side": 1,
      "message": "Hm... I thought -- must be used BEFORE filename we grep.\nand AFTER grep condition. But it looks like both \"works on my machine\" (c):\n\n10:45:40 ✔ taurus:~$ grep -c a /etc/hosts\n11\n10:45:43 ✔ taurus:~$ grep -c a -- /etc/hosts\n11\n10:45:46 ✔ taurus:~$ grep -c -- a /etc/hosts\n11\n10:45:51 ✔ taurus:~$",
      "parentUuid": "ae84c3ff_c9403f0a",
      "range": {
        "startLine": 245,
        "startChar": 10,
        "endLine": 245,
        "endChar": 11
      },
      "revId": "9472cfbb0742137c1c64467bac3c20c6ec84fe2f",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f73742bf_f82bed96",
        "filename": "functions/main",
        "patchSetId": 4
      },
      "lineNbr": 245,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2019-09-20T08:48:45Z",
      "side": 1,
      "message": "\u003e $ sudo ngcpcfg build -q ssh\n\n\nNow I see you point. Moved -- to Guillem\u0027s possition.",
      "parentUuid": "8d02c1e5_e45ce8cd",
      "range": {
        "startLine": 245,
        "startChar": 10,
        "endLine": 245,
        "endChar": 11
      },
      "revId": "9472cfbb0742137c1c64467bac3c20c6ec84fe2f",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "047589b1_f252c10b",
        "filename": "functions/main",
        "patchSetId": 4
      },
      "lineNbr": 354,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2019-09-20T08:37:04Z",
      "side": 1,
      "message": "Also unset dirs_to_process?",
      "revId": "9472cfbb0742137c1c64467bac3c20c6ec84fe2f",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e716152b_5035d731",
        "filename": "functions/main",
        "patchSetId": 4
      },
      "lineNbr": 354,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2019-09-20T08:42:04Z",
      "side": 1,
      "message": "Right. But AFAIK bash do unset all local variables on function exit. and \"declare -a\" inside the function is always local AFAIK. But sure, let\u0027s be consistent here.",
      "parentUuid": "047589b1_f252c10b",
      "revId": "9472cfbb0742137c1c64467bac3c20c6ec84fe2f",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": true
    }
  ]
}